<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Alexey Tereshenkov" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="python, docker, tox, testing, python, " />

<meta property="og:title" content="Running Python tests with tox in a Docker container "/>
<meta property="og:url" content="/run-python-tests-with-tox-in-docker.html" />
<meta property="og:description" content="Overview¶ When you are working on Python code that is supposed to be running on Python interpreters of multiple versions (and potentially with multiple versions of 3rd party packages), to be able to test that your code works and produces expected result you would need to create isolated virtual environments …" />
<meta property="og:site_name" content="Alexey Tereshenkov" />
<meta property="og:article:author" content="Alexey Tereshenkov" />
<meta property="og:article:published_time" content="2020-11-03T00:00:00+00:00" />
<meta property="og:article:modified_time" content="2020-11-03T00:00:00+00:00" />
<meta name="twitter:title" content="Running Python tests with tox in a Docker container ">
<meta name="twitter:description" content="Overview¶ When you are working on Python code that is supposed to be running on Python interpreters of multiple versions (and potentially with multiple versions of 3rd party packages), to be able to test that your code works and produces expected result you would need to create isolated virtual environments …">

        <title>Running Python tests with tox in a Docker container  · Alexey Tereshenkov
</title>
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Alexey Tereshenkov - Full Atom Feed" />
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-177875539-1', 'auto');
    ga('send', 'pageview');
</script>


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name>Alexey Tereshenkov</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <li ><a href="/categories.html">Categories</a></li>
                                <li ><a href="/tags.html">Tags</a></li>
                                <li ><a href="/archives.html">Archives</a></li>
                                <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/run-python-tests-with-tox-in-docker.html">
                Running Python tests with tox in a Docker container
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
    <div class="span2 table-of-content">
        <nav>
        <h4>Contents</h4>
        <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#preparing-python-virtual-environments">Preparing Python virtual environments</a></li>
<li><a href="#running-tests-with-tox-in-docker-simple-configuration">Running tests with tox in Docker: simple configuration</a></li>
<li><a href="#running-tests-with-tox-in-docker-advanced-configuration">Running tests with tox in Docker: advanced configuration</a></li>
</ul>
</div>
        </nav>
    </div>
    <div class="span8 article-content">
            
            
<h3 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h3>
<p>When you are working on Python code that is supposed to be running on Python interpreters
of multiple versions (and potentially with multiple versions of 3rd party packages),
to be able to test that your code works and produces expected result you would need
to create isolated virtual environments.
Each of these virtual environments will have a certain version of Python 
and a certain version of each 3rd party package that your programs depend on.
By having just a few versions of Python with a couple of versions of a few packages,
it becomes rather tedious to create and maintain those virtual environments manually very soon.
<a href="https://tox.readthedocs.io/en/latest/"><code>tox</code></a> is a tool that can help you with this.</p>
<h3 id="preparing-python-virtual-environments">Preparing Python virtual environments<a class="headerlink" href="#preparing-python-virtual-environments" title="Permanent link">¶</a></h3>
<p>It is possible to create Python virtual environments manually and then let <code>tox</code> use
them, however, you would most likely want <code>tox</code> to generate those virtual environments
for you.
For <code>tox</code> to use Python interpreters of multiple versions, they have to be installed
on your machine.
Even though this is possible, it may still be less optimal given that you will most
likely need to make system changes (install a system package on Linux, use <code>homebrew</code> on MacOS,
or download a Python app or an installer on Windows).
Fortunately, <code>tox</code> can be run in a Docker container which will help to prevent cluttering your system.</p>
<h3 id="running-tests-with-tox-in-docker-simple-configuration">Running tests with tox in Docker: simple configuration<a class="headerlink" href="#running-tests-with-tox-in-docker-simple-configuration" title="Permanent link">¶</a></h3>
<p>To be able to run Python tests with <code>tox</code> in a Docker container, you will need a Dockerfile.</p>
<div class="highlight"><pre><span></span><code><span class="k">FROM</span> <span class="s">ubuntu:18.04</span>

<span class="k">RUN</span> apt-get -qq update
<span class="k">RUN</span> apt-get install -y --no-install-recommends <span class="se">\</span>
  python3.7 python3.7-distutils python3.7-dev <span class="se">\</span>
  python3.8 python3.8-distutils python3.8-dev <span class="se">\</span>
  wget <span class="se">\</span>
  ca-certificates

<span class="k">RUN</span> wget https://bootstrap.pypa.io/get-pip.py <span class="se">\</span>
  <span class="o">&amp;&amp;</span> python3 get-pip.py <span class="nv">pip</span><span class="o">==</span><span class="m">19</span>.1.1 <span class="se">\</span>
  <span class="o">&amp;&amp;</span> rm get-pip.py

<span class="k">RUN</span> python3.6 --version
<span class="k">RUN</span> python3.7 --version
<span class="k">RUN</span> python3.8 --version

<span class="k">RUN</span> pip3 install tox pytest
</code></pre></div>
<p>The <code>tox.ini</code> file where you specify the Python environments.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tox]</span>
<span class="na">envlist</span> <span class="o">=</span> <span class="s">py36,py37,py38</span>
<span class="na">skipsdist</span> <span class="o">=</span> <span class="s">True</span>

<span class="k">[testenv]</span>
<span class="na">deps</span> <span class="o">=</span> <span class="s">pytest</span>
<span class="na">commands</span> <span class="o">=</span> <span class="s">pytest</span>
</code></pre></div>
<p>The <code>test_module.py</code> containing a simple test function.</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">5</span>
</code></pre></div>
<p>Now you can build an image and then run the tests. </p>
<div class="highlight"><pre><span></span><code>$ docker build -t snake .
$ docker run -it -v <span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/:/app snake /bin/sh -c <span class="s1">'cd app; tox'</span>
</code></pre></div>
<p>The <code>pytest</code> output will be printed for each of the Python environments
in which the tests have been run (posted below with some sections removed for brevity).</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span> <span class="n">tox</span><span class="p">.</span><span class="n">ini</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">tox</span><span class="p">.</span><span class="n">ini</span> <span class="p">(</span><span class="n">pid</span> <span class="mi">7</span><span class="p">)</span>
<span class="p">...</span>
<span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">=================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">=================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.6.9, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">1</span> <span class="n">item</span>                                                                                                      

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">==================================================</span> <span class="mi">1</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="n">s</span> <span class="o">==================================================</span>

<span class="p">...</span>
<span class="p">[</span><span class="mi">21</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">=================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">=================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.7.5, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">1</span> <span class="n">item</span>                                                                                                      

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">==================================================</span> <span class="mi">1</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="n">s</span> <span class="o">==================================================</span>

<span class="p">...</span>
<span class="p">[</span><span class="mi">26</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">=================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">=================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.8.0, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">1</span> <span class="n">item</span>                                                                                                      

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">==================================================</span> <span class="mi">1</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">01</span><span class="n">s</span> <span class="o">==================================================</span>
<span class="n">_______________________________________________________</span> <span class="n">summary</span> <span class="n">_______________________________________________________</span>
  <span class="n">py36</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py37</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py38</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">congratulations</span> <span class="p">:)</span>
</code></pre></div>
<h3 id="running-tests-with-tox-in-docker-advanced-configuration">Running tests with tox in Docker: advanced configuration<a class="headerlink" href="#running-tests-with-tox-in-docker-advanced-configuration" title="Permanent link">¶</a></h3>
<p>For a more complex use case, for instance, when you are working on a library that depends 
on some 3rd Python package, say, <code>pandas</code>, you can specify which versions of <code>pandas</code> 
you’d like to test your project’s code with.
For the example below, your tests will be run in 6 different environments.</p>
<p>The <code>tox.ini</code> configuration file.</p>
<div class="highlight"><pre><span></span><code><span class="k">[tox]</span>
<span class="na">envlist</span> <span class="o">=</span> <span class="s">py36-pandas{112,113}, py37-pandas{112,113}, py38-pandas{112,113}</span>
<span class="na">skipsdist</span> <span class="o">=</span> <span class="s">True</span>

<span class="k">[testenv]</span>
<span class="na">deps</span> <span class="o">=</span> <span class="s"></span>
<span class="s">  pandas112: pandas==1.1.2</span>
<span class="s">  pandas113: pandas==1.1.3</span>
<span class="s">  pytest</span>
<span class="na">commands</span> <span class="o">=</span> <span class="s">pytest</span>
</code></pre></div>
<p>The <code>test_pandas.py</code> containing a simple test function to create two data frames and compare them.</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas._testing</span> <span class="kn">import</span> <span class="n">assert_frame_equal</span>

<span class="k">def</span> <span class="nf">test_pandas</span><span class="p">():</span>
  <span class="n">df1</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
  <span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">'a'</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s1">'b'</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
  <span class="n">assert_frame_equal</span><span class="p">(</span><span class="n">df1</span><span class="p">,</span> <span class="n">df2</span><span class="p">)</span>
</code></pre></div>
<p>The <code>pytest</code> output will be printed for each of the Python environments
in which the tests have been run (posted below with some sections removed for brevity).</p>
<div class="highlight"><pre><span></span><code><span class="p">[</span><span class="mi">52</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.6.9, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">63</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="p">[</span><span class="mi">73</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.6.9, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py36</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">47</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="p">[</span><span class="mi">115</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.7.5, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">51</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="p">[</span><span class="mi">133</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.7.5, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py37</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">42</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="p">[</span><span class="mi">174</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.8.0, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">-</span><span class="n">pandas112</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">48</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="p">[</span><span class="mi">193</span><span class="p">]</span> <span class="o">/</span><span class="n">app$</span> <span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">pytest</span>
<span class="o">===================================================================</span> <span class="n">test</span> <span class="k">session</span> <span class="n">starts</span> <span class="o">===================================================================</span>
<span class="n">platform</span> <span class="n">linux</span> <span class="c1">-- Python 3.8.0, pytest-6.1.2, py-1.9.0, pluggy-0.13.1</span>
<span class="n">cachedir</span><span class="p">:</span> <span class="p">.</span><span class="n">tox</span><span class="o">/</span><span class="n">py38</span><span class="o">-</span><span class="n">pandas113</span><span class="o">/</span><span class="p">.</span><span class="n">pytest_cache</span>
<span class="n">rootdir</span><span class="p">:</span> <span class="o">/</span><span class="n">app</span>
<span class="n">collected</span> <span class="mi">2</span> <span class="n">items</span>                                                                                                                                         

<span class="n">test_module</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span> <span class="mi">50</span><span class="o">%</span><span class="p">]</span>
<span class="n">test_pandas</span><span class="p">.</span><span class="n">py</span> <span class="p">.</span>                                                                                                                                    <span class="p">[</span><span class="mi">100</span><span class="o">%</span><span class="p">]</span>

<span class="o">====================================================================</span> <span class="mi">2</span> <span class="n">passed</span> <span class="k">in</span> <span class="mi">0</span><span class="p">.</span><span class="mi">38</span><span class="n">s</span> <span class="o">====================================================================</span>
<span class="n">_________________________________________________________________________</span> <span class="n">summary</span> <span class="n">_________________________________________________________________________</span>
  <span class="n">py36</span><span class="o">-</span><span class="n">pandas112</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py36</span><span class="o">-</span><span class="n">pandas113</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py37</span><span class="o">-</span><span class="n">pandas112</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py37</span><span class="o">-</span><span class="n">pandas113</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py38</span><span class="o">-</span><span class="n">pandas112</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">py38</span><span class="o">-</span><span class="n">pandas113</span><span class="p">:</span> <span class="n">commands</span> <span class="n">succeeded</span>
  <span class="n">congratulations</span> <span class="p">:)</span>
</code></pre></div>
<p>There are quite a few resources online that go deeper into how one can use <code>tox</code> in a Docker container,
but this simple layout has been very useful to me in various circumstances and may help others.</p>
<p>Happy testing!</p>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-11-03T00:00:00+00:00">Tue 03 November 2020</time>

            <h4>Category</h4>
            <a class="category-link" href="/categories.html#python-ref">python</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#docker-ref">docker
                    <span class="superscript">3</span>
</a></li>
                <li><a href="/tags.html#python-ref">python
                    <span class="superscript">13</span>
</a></li>
                <li><a href="/tags.html#testing-ref">testing
                    <span class="superscript">5</span>
</a></li>
                <li><a href="/tags.html#tox-ref">tox
                    <span class="superscript">1</span>
</a></li>
            </ul>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>